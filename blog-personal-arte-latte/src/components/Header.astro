---
import { cn } from "../lib/tailwind-utils";
import coffeLogo from "../assets/images/coffeLogo.png";
import { Palette } from 'lucide-astro';
import Hamburger from './Hamburger.astro';
import ThemeIcon from './ThemeIcon.astro';
import Navigation from './Navigation.astro';
import Image from "astro/components/Image.astro";

---

<header>
  <nav
    id="navbar"
    class={cn(
      " w-full z-50 transition-all duration-300",
      "bg-[#D2B48C] dark:bg-[#2C1810] border-b border-[#8B4513]/20 dark:border-[#E6D5C3]/10"
    )}
  >
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <a href="/" class="flex items-center space-x-2 group">
          <div class="relative">
            <div
              class="p-2 rounded-full bg-[#E6D5C3] dark:bg-[#493e3e] group-hover:bg-white/90 dark:group-hover:bg-[#8B4513]/80 transition-colors"
            >
              <Image loading="eager" width="65" height="65" src={coffeLogo} alt="inicio" class=" text-[#6F4E37] dark:text-[#E6D5C3] transition-transform group-hover:scale-110" />
            </div>
          </div>
          <div class="flex flex-col">
            <span class="text-xl font-semibold text-[#6F4E37] dark:text-[#E6D5C3] truncate">El puesto del arte latte</span>
            <span class="text-xs text-[#8B4513] dark:text-[#D2B48C] font-light italic">Blog personal</span>
          </div>
        </a>

        <div class="hidden md:block">
          <Navigation />
        </div>

        <div class="hidden md:flex items-center space-x-2">
          <ThemeIcon />
          <button
            id="languageToggle"
            class="ml-2 text-[#6F4E37] dark:text-[#E6D5C3] hover:bg-[#E6D5C3]/50 dark:hover:bg-[#483434]/50
                   rounded-full font-medium tracking-wide transition-colors duration-200 px-3 py-2"
          >
            ES
          </button>
        </div>

        <div class="md:hidden">
          <Hamburger />
        </div>
      </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobileMenu" class="md:hidden absolute w-full transition-all duration-300 ease-in-out opacity-0 -translate-y-4 pointer-events-none">
      <div class="px-2 pt-2 pb-3 space-y-1 bg-[#D2B48C] dark:bg-[#2C1810] shadow-lg">
        <Navigation />
        <div class="flex items-center justify-between px-3 py-2">
          <ThemeIcon />
          <button
            id="mobileLanguageToggle"
            class="text-[#6F4E37] dark:text-[#E6D5C3] hover:bg-[#E6D5C3]/50 dark:hover:bg-[#483434]/50 rounded-full px-3 py-2"
          >
            ES
          </button>
        </div>
      </div>
    </div>
  </nav>
</header>

